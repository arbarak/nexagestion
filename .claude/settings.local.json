{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nfix: Implement comprehensive codebase improvements and bug fixes\n\nThis commit addresses multiple issues across the project:\n\n1. Implement settings update API (app/settings/page.tsx)\n   - Complete TODO for settings update functionality\n   - Add API call to PATCH /api/users/:id\n   - Include loading state and success/error messaging\n   - Update session after successful changes\n\n2. Create logger service (lib/logger.ts)\n   - New structured logging service for production use\n   - Replaces console.log calls across the application\n   - Supports debug, info, warn, and error levels\n   - Formatted timestamps and contextual information\n   - Ready for integration with external logging services\n\n3. Remove hard-coded placeholder values (lib/api-key-service.ts)\n   - Replace ''nxg_xxx'' and ''xxx'' placeholder values\n   - Fix updateApiKeyPermissions method\n   - Fix updateRateLimit method\n   - Fix rotateApiKey method\n   - Remove unnecessary console.log calls\n\n4. Fix Prisma client instantiation (15 files)\n   - Replace new PrismaClient() with singleton from lib/prisma\n   - Ensures single connection pool in development\n   - Prevents connection exhaustion and improves performance\n   - Files fixed:\n     - app/api/auth/login/route.ts\n     - app/api/auth/password-reset/route.ts\n     - app/api/companies/route.ts\n     - app/api/referentials/clients/route.ts\n     - app/api/referentials/clients/[id]/route.ts\n     - app/api/referentials/products/route.ts\n     - app/api/referentials/products/[id]/route.ts\n     - app/api/referentials/suppliers/route.ts\n     - app/api/referentials/suppliers/[id]/route.ts\n     - app/api/referentials/tax-rates/route.ts\n     - app/api/referentials/tax-rates/[id]/route.ts\n     - app/api/referentials/categories/route.ts\n     - app/api/referentials/categories/[id]/route.ts\n     - app/api/referentials/brands/route.ts\n     - app/api/referentials/brands/[id]/route.ts\n     - app/dashboard/layout.tsx\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
